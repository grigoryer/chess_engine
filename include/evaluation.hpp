#pragma once
#include <position.hpp>
#include <constants.hpp>



const std::array<Score, NUM_SQUARES> ROOK_EVAL_MAP = 
{
0, 0, 0, 20, 20, 0, 0, 0,
15, 15, 15, 25, 25, 15, 15, 15,
0, 0, 15, 25, 25, 15, 0, 0,
0, 0, 25, 35, 35, 25, 0, 0,
0, 0, 25, 35, 35, 25, 0, 0,
0, 0, 15, 25, 25, 15, 0, 0,
15, 25, 40, 40, 40, 40, 25, 15,
0, 0, 15, 15, 15, 15, 0, 0
};

const std::array<Score, NUM_SQUARES> BISHOP_EVAL_MAP = 
{
-15, 0, 0, 15, 15, 0, 0, -15,
0, 15, 15, 30, 30, 15, 15, 0,
0, 15, 30, 30, 30, 30, 15, 0,
15, 30, 30, 45, 45, 30, 30, 15,
15, 30, 30, 45, 45, 30, 30, 15,
0, 15, 30, 30, 30, 30, 15, 0,
0, 15, 15, 30, 30, 15, 15, 0,
-15, 0, 0, 15, 15, 0, 0, -15
};

const std::array<Score, NUM_SQUARES> KNIGHT_EVAL_MAP = 
{
 -30, -15, -5, -5, -5, -5, -15, -30,
 -15, 0, 15, 15, 15, 15, 0, -15,
 -10, 15, 30, 30, 30, 30, 15, -10,
 -10, 15, 30, 45, 45, 30, 15, -10,
 -10, 15, 30, 45, 45, 30, 15, -10,
 -10, 15, 30, 30, 30, 30, 15, -10,
 -15, 0, 15, 15, 15, 15, 0, -15,
 -30, -15, -5, -5, -5, -5, -5, -30
};

const std::array<Score, 64> PAWN_EVAL_MAP = 
{
0, 0, 0, 0, 0, 0, 0, 0,
5, 5, 5, 5, 5, 5, 5, 5,
10, 10, 30, 40, 40, 30, 10, 10,
15, 15, 30, 40, 40, 30, 15, 15,
20, 20, 20, 40, 40, 20, 20, 20,
25, 25, 25, 25, 25, 25, 25, 25,
30, 30, 30, 30, 30, 30, 30, 30,
0, 0, 0, 0, 0, 0, 0, 0 // rank 8 doesnt matter since it is impossible
};

const std::array<Score, 64> PAWN_LATE_EVAL_MAP = 
{
 0, 0, 0, 0, 0, 0, 0, 0,
 -5, -5, -5, -5, -5, -5, -5, -5,
 -10, -10, -10, -10, -10, -10, -10, -10,
 30, 30, 30, 40, 40, 30, 30, 30,
 40, 40, 40, 40, 40, 40, 40, 40,
 50, 50, 50, 50, 50, 50, 50, 50,
 60, 60, 60, 60, 60, 60, 60, 60,
 0, 0, 0, 0, 0, 0, 0, 0 // rank 8 doesnt matter since it is impossible
};

const std::array<Score, NUM_SQUARES> QUEEN_EVAL_MAP = 
{
  0, 0, 15, 15, 15, 15, 0, 0,
  0, 15, 30, 30, 30, 30, 15, 0,
 15, 30, 45, 45, 45, 45, 30, 15,
 15, 30, 45, 60, 60, 45, 30, 15,
 15, 30, 45, 60, 60, 45, 30, 15,
 15, 30, 45, 45, 45, 45, 30, 15,
  0, 15, 30, 30, 30, 30, 15, 0,
  0, 0, 15, 15, 15, 15, 0, 0
};

const std::array<Score, 64> KING_EVAL_MAP = 
{
  10, 35, 10,  0,  0, 10, 35, 10,
  0, -5, -5, -5, -5, -5, -5, 0,
  0,  0, -20, -30, -30, -20,  0,  0,
 -20, -30, -40, -50, -50, -40, -30, -20,
 -30, -40, -50, -60, -60, -50, -40, -30,
 -40, -50, -60, -70, -70, -60, -50, -40,
 -50, -60, -70, -80, -80, -70, -60, -50,
 -60, -70, -80, -90, -90, -80, -70, -60
};

const std::array<Score, 64> KING_LATE_EVAL_MAP =
{
-15, -10, -5, -5, -5, -5, -10, -15,
-10, -5, 0, 0, 0, 0, -5, -10,
-5, 0, 10, 10, 10, 10, 0, -5,
-5, 0, 20, 20, 20, 20, 0, -5,
-5, 0, 20, 20, 20, 20, 0, -5,
-5, 0, 10, 10, 10, 10, 0, -5,
-10, -5, 0, 0, 0, 0, -5, -10,
-15, -10, -5, -5, -5, -5, -10, -15
};

class Evaluation
{
	Score scorePosition(Piece piece, Square sq, bool isLateGame);
public: 
	Score evaluateBoard(Board& b);
};